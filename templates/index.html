<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Loan Default Predictor</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body class="bg-light">

<div class="container mt-5">

    <div class="card p-4 shadow">

        <h3 class="text-center mb-4">Loan Default Risk Prediction</h3>

        <form id="loanForm">

            <h5 class="mb-3 text-primary">Personal Information</h5>

            <label class="form-label">Age</label>
            <input class="form-control mb-2"
                   name="person_age"
                   placeholder="Eg. 30 years"
                   required>

            <label class="form-label">Employment Length (years)</label>
            <input class="form-control mb-3"
                   name="person_emp_length"
                   placeholder="Eg. 5 years"
                   required>

            <h5 class="mb-3 text-primary">Financial Information</h5>

            <label class="form-label">Annual Income</label>
            <input class="form-control mb-2"
                   name="person_income"
                   placeholder="Eg. 50000"
                   required>

            <label class="form-label">Credit History Length (years)</label>
            <input class="form-control mb-3"
                   name="cb_person_cred_hist_length"
                   placeholder="Eg. 8 years"
                   required>

            <h5 class="mb-3 text-primary">Loan Details</h5>

            <label class="form-label">Loan Amount</label>
            <input class="form-control mb-2"
                   name="loan_amnt"
                   placeholder="Eg. 10000"
                   required>

            <label class="form-label">Interest Rate (%)</label>
            <input class="form-control mb-2"
                   name="loan_int_rate"
                   placeholder="Eg. 11.5"
                   required>

            <label class="form-label">Loan Purpose</label>
            <select class="form-select mb-2" name="loan_intent">
                <option>EDUCATION</option>
                <option>MEDICAL</option>
                <option>PERSONAL</option>
                <option>VENTURE</option>
            </select>

            <label class="form-label">Loan Grade (Lower to Higher Risk)</label>
            <select class="form-select mb-2" name="loan_grade">
                <option>A</option>
                <option>B</option>
                <option>C</option>
                <option>D</option>
                <option>E</option>
                <option>F</option>
                <option>G</option>
            </select>

            <h5 class="mb-3 text-primary">Other Details</h5>

            <label class="form-label">Home Ownership</label>
            <select class="form-select mb-2" name="person_home_ownership">
                <option value="RENT">Rent</option>
                <option value="OWN">Own House</option>
                <option value="MORTGAGE">Mortgage</option>
            </select>

            <label class="form-label">Previous Default on File</label>
            <select class="form-select mb-3" name="cb_person_default_on_file">
                <option value="N">No</option>
                <option value="Y">Yes</option>
            </select>


            <button class="btn btn-primary w-100 mt-2">Predict</button>
        </form>


        <div id="result" class="mt-4 d-none">

            <h5 id="decision" class="fw-bold"></h5>

            <div class="progress mb-2">
                <div id="probBar" class="progress-bar"></div>
            </div>

            <p id="probText"></p>

            <small class="text-muted">
                <b>Explanation:</b><br>
                Probability shows the risk that this applicant may default on the loan.<br>
                • Below 40% → safer → Loan can be approved<br>
                • Above 40% → risky → Loan likely rejected
            </small>

        </div>

    </div>

</div>

<script src="{{ url_for('static', filename='/main.js') }}"></script>

</body>
</html>